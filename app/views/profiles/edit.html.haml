= form_for @profile, html: {class: "form-horizontal", role: "form"} do |f|
  = f.label "Food Preference"  
  %div.indented
    = f.radio_button :food_pref, "Vegan", class: "picky food"
    = f.label :food_pref, "Vegan", :value => "Vegan", checked: (@profile.food_pref=="Vegan" unless @profile.food_pref.nil?)
    %br
    = f.radio_button :food_pref, "Meat", class: "picky food"
    = f.label :food_pref, "Meat", :value => "Meat", checked: (@profile.food_pref=="Meat" unless @profile.food_pref.nil?)
    %br
    %div.other_choice
    = f.radio_button :food_pref, "Other", class: "picky eater"
    = f.label :food_pref, "Other", :value => "Other", checked: (@profile.food_pref=="Other" unless @profile.food_pref.nil?)
  .form_group#otherfoodbox
    =f.label :other_food, nil, class: "control-label"
    =f.text_field :other_food, value: @profile.other_food, class: "form-control"

  = f.label "Location"  
  %div.indented
    = f.radio_button :location, "Greensboro", class: "location known"
    = f.label :location, "Greensboro", :value => "Greensboro", checked: (@profile.location=="Greensboro" unless @profile.location.nil?)
    %br
    %div.other_choice
    = f.radio_button :location, "Georgia", class: "location not_known"
    = f.label :location, "Georgia", :value => "Other", checked: (@profile.location=="Georgia" unless @profile.location.nil?)

  %div.form_group
    =f.submit class: "btn btn-primary", data: { disable_with: "Adding Suggestion..."}

:javascript
  $(document).on("ready", function(){
    if ($(".eater:checked").length > 0)
      $("#otherfoodbox").show()
    $(".picky").on("change", function(){
      $("#otherfoodbox").toggle($(this).hasClass("eater"));        
    });
  });
